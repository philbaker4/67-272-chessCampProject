<div class="card">
  <div class="card-content">
    <%= hidden_field_tag "camp_id", @camp.id %>

    <h4><%= @camp.name %> </h4><br />

    <%= "#{@camp.curriculum.description}" %><br><br>

    <b>Location:&nbsp;&nbsp;</b>
    <%= "#{@camp.location.name}" %><br>

    <b>Cost:&nbsp;&nbsp;</b>
      <%= "$#{'%.2f' % @camp.cost}" %><br>

    <b>Date:&nbsp;&nbsp;</b>
      <%= "#{@camp.start_date.strftime('%m/%d/%y')} - #{@camp.end_date.strftime('%m/%d/%y')}" %><br>
    <b>Time Slot:</b>
      <% if @camp.time_slot == "am" %>
        Morning
      <% else %>
        Afternoon 
      <% end %><br>

    <b><%= @camp.active ? "Active" : "Inactive" %></b><br>

    <div id='instructors_list'>
      <div class='row'>
        <div class='col s6'>
          <h5>Camp Instructors:

            <a href="#" v-on:click="switch_modal"> <i class="material-icons color-icons small">add</i></a>

          </h5>

          <div v-show="instructors.length > 0" > 
            
            <ul is='instructor-row' 
              v-for="instructor in instructors" 
              v-bind:instructor="instructor"
              class="no_bullet">  
            </ul>

            <br>
          </div>

          <div v-show="instructors.length == 0">
            No instructors at this time
          </div>
        </div>

    
        <div v-if="modal_open" class='col s6' >

          <new-instructor-form></new-instructor-form>
        </div>

      </div>
    </div>


      
  </div>
</div>




<script type="text/x-template" id="camp-instructor-form-template">
  <!-- create an empty camp instructor object to work with -->
  <% @camp_instructor = CampInstructor.new %>
  <!-- now the form template itself -->
  
    <div class="col s12">
      <h5>New Instructor:</h5>
      <%= simple_form_for(@camp_instructor) do |f| %>
        <%= f.error_notification %>
        <div class="row">
          <div class="form-inputs">
            <%= f.input :instructor_id, collection: Instructor.active.alphabetical.to_a, include_blank: true %>


            <!--     handle only the possible isntructors   find returns nil  -->
            <%= f.input :camp_id, as: :hidden, input_html: { value: @camp.id } %>
          </div>
        </div>
        <div class="row">
          <div class="form-actions col s8">
            <%= f.button :submit,  "Add" %>
          </div>
        </div>
      <% end %>
    </div>
  

</script>

<script type="text/x-template" id='instructor-row'>

    <li>
      <% if logged_in? and current_user.role?(:admin) %> 
        <a v-on:click="remove_record(instructor)" class="remove links">x&nbsp;&nbsp;</a>
      <%end%>
      {{ instructor.first_name }}, {{ instructor.last_name }}
    </li>
</script>

  




<!--"#{instructor.phone.insert(6,'-').insert(3,'-')}" %></td> -->